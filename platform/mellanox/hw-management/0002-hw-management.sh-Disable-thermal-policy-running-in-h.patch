From d01991c155a7804637106d8f69b564807eb30eb9 Mon Sep 17 00:00:00 2001
From: keboliu <kebol@mellanox.com>
Date: Fri, 3 Apr 2020 15:22:39 +0800
Subject: [PATCH] Disable thermal policy running in hw-mgmt service SONiC thermal control algorithm has been supported.

Signed-off-by: Kebo Liu <kebol@mellanox.com>
---
 usr/usr/bin/hw-management.sh |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/usr/usr/bin/hw-management.sh b/usr/usr/bin/hw-management.sh
index d7a6001..fac3439 100755
--- a/usr/usr/bin/hw-management.sh
+++ b/usr/usr/bin/hw-management.sh
@@ -804,7 +804,11 @@ do_start()
 	if [ -f $config_path/max_tachos ]; then
 		max_tachos=$(<$config_path/max_tachos)
 	fi
-	$THERMAL_CONTROL $thermal_type $max_tachos $max_psus&
+#
+#	Disable thermal control algorithm in hw-management service
+#	because there has already been that in SONiC
+#
+#	$THERMAL_CONTROL $thermal_type $max_tachos $max_psus&
 }
 
 do_stop()
-- 
1.7.1

