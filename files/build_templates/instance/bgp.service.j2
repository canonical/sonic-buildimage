[Unit]
Description=BGP container
{% if multi_instance == 'true' %}
Requires=database@%i.service
After=database@%i.service
{% else %}
Requires=updategraph.service
After=updategraph.service
{% endif %}
Before=ntp-config.service

[Service]
User={{ sonicadmin_user }}
{% if multi_instance == 'true' %}
ExecStartPre=/usr/bin/{{docker_container_name}}.sh start %i
ExecStart=/usr/bin/{{docker_container_name}}.sh wait %i
ExecStop=/usr/bin/{{docker_container_name}}.sh stop %i
{% else %}
ExecStartPre=/usr/bin/{{docker_container_name}}.sh start
ExecStart=/usr/bin/{{docker_container_name}}.sh wait
ExecStop=/usr/bin/{{docker_container_name}}.sh stop
{% endif %}
[Install]
WantedBy=multi-user.target
